<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>np</title>
        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
		<link rel="stylesheet" href="libs/bp-style.css" type="text/css" charset="utf-8">
		<link rel="stylesheet" href="src/circles.css" type="text/css" charset="utf-8">
</head>
<body>
	<header>
		Circles
	</header>
	<div id="main"></div>
	<script src="libs/underscore.js" type="text/javascript" charset="utf-8"></script>
	<script src="src/circles.js" type="text/javascript" charset="utf-8"></script>
	<script src="libs/color.js" type="text/javascript" charset="utf-8"></script>
	<script src="libs/jquery-1.6.2-min.js" type="text/javascript" charset="utf-8"></script>
	<script src="libs/raphael-min.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript" charset="utf-8">
		var main = $('div#main').eq(0);
		window.r = Raphael(main.get(0), main.width(), main.height());
		
		var createFixedCircle = _.once(function(xy){
		    var c = Circles.createCircle({
		        xy: xy,
		        rad: 50
		    });
		});
		
		function createDot(xy){
			Dots.makeDots(xy);
		}

		main.click(function(evt){
			createDot([evt.offsetX, evt.offsetY]);
		});
		$('<a>')
			.attr('href', '#')
			.text('Export Dot List')
			.click(function(){
				main.empty();
				$('<textarea>')
					.text(JSON.stringify(_.pluck(Dots.list(), 'xy')))
					.appendTo(main);
			})
			.appendTo('header');
	</script>
</body>
</html>